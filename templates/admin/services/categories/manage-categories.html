{% extends 'admin/general/base-nav.html' %}

{% block content %}
    <div class="container mt-3 mb-4">
        <h1 class="mb-3 text-center fw-semibold text-dark fs-4">Manage Barbershop Services</h1>

        <div class="row">
            {% for category in categories %}
                <div class="col-md-6 mb-3">
                    <div class="card shadow-sm border-0 rounded-lg">
                        <div class="card-body p-3">
                            <h5 class="fw-bold mb-2 fs-5">{{ category.name }}</h5>

                            <!-- Group: Analytics (Left aligned) and others (Right aligned) -->
                            <div class="d-flex justify-content-between mb-2">
                                <a href="{% url 'services:manage_category_overview' category.id %}"
                                   class="btn btn-outline-info btn-sm rounded-pill">
                                    Analytics ({{ category.category_services.count }})
                                </a>

                                <!-- Right aligned buttons -->
                                <div class="d-flex gap-1">
                                    <a href="{% url 'services:manage_category_view' category.id %}"
                                       class="btn btn-outline-dark btn-sm rounded-pill">
                                        Services
                                    </a>
                                    <a href="{% url 'services:category_edit' category.id %}"
                                       class="btn btn-outline-secondary btn-sm rounded-pill">
                                        Edit
                                    </a>
                                    <a href="{% url 'services:category_delete' category.id %}"
                                       class="btn btn-outline-danger btn-sm rounded-pill"
                                       onclick="return confirm('Are you sure you want to delete this category?');">
                                        Delete
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% empty %}
                <div class="col-12">
                    <p class="text-muted text-center py-3 fs-6">No categories available.</p>
                </div>
            {% endfor %}
        </div>


        <div class="d-flex justify-content-center gap-3 mt-4">
            <a href="{% url 'services:admin_dashboard' %}" class="btn btn-outline-primary btn-md rounded-pill">
                <i class="bi bi-house-door me-1"></i> Go to Dashboard
            </a>
            <span class="px-2 text-muted">|</span>
            <a href="{% url 'services:category_create' %}" class="btn btn-outline-secondary btn-md rounded-pill">
                <i class="bi bi-plus-circle me-1"></i> Add New Category
            </a>
        </div>

    </div>
{% endblock %}
